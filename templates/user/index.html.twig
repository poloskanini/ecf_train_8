{% extends 'base.html.twig' %}

{% block title %}Hello UserController!{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>ECF Train 8</h1>

    {% for user in users %}
        {{ dump(user) }}

        Nom du contact client : {{ user.name }} <br>

        Email du contact client : {{ user.email }} <br>

        Role :
        {% for role in user.roles %}
            {{ role }}
        {% endfor %} <br>

        {% if user.structure.id is defined %}
        Adresse postale de la structure : {{ user.structure.postalAdress }} <br>
        Fonctionnalités activées :
        <ul>
        {% for permission in user.structure.partner.permissions %}
            <li>
                {% for key, value in permission %}
                    {{ key }} : {{ value }}
                {% endfor %}
            </li>
        {% endfor %}
        </ul>
        {% endif %}


        {% if user.partner.id is defined %}
        Nom du partenaire : {{ user.partner.name }} <br>
        Fonctionnalités activées :
        <ul>
        {% for permission in user.partner.permissions %}
            <li>
                {% for key, value in permission %}
                    {{ key }} : {{ value }}
                {% endfor %}
            </li>
        {% endfor %}
        </ul>
        {% endif %}

        {# Id du Partenaire : {{ user.partner.id }} <br>
        
        Nom du partenaire : {{ user.partner.name }} <br>

        Fonctionnalités activées :
        <ul>
        {% for permission in user.partner.permissions %}
            <li>
                {% for key, value in permission %}
                    {{ key }} : {{ value }}
                {% endfor %}
            </li>
        {% endfor %}
        </ul> #}

    {% endfor %}

</div>
{% endblock %}
